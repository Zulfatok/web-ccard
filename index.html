<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Credit Card Tools</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

    :root {
      --primary-gradient: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
      --secondary-gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
      --card-gradient: linear-gradient(135deg, rgba(15, 23, 42, 0.98), rgba(30, 41, 59, 0.95));
      --button-gradient: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
      --transition-speed: 0.3s;
      --bin-gradient: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
      --generator-gradient: linear-gradient(135deg, #5b21b6 0%, #6d28d9 100%);
      --checker-gradient: linear-gradient(135deg, #047857 0%, #065f46 100%);
      --bin-generator-gradient: linear-gradient(135deg, #334155 0%, #475569 100%);
      --glow-color: rgba(99, 102, 241, 0.3);
      --text-glow: 0 0 15px rgba(99, 102, 241, 0.4);
      --bg-dark: #0a0e1a;
      --bg-darker: #050810;
    }

    * {
      box-sizing: border-box;
      transition: all var(--transition-speed) ease;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, var(--bg-darker) 0%, var(--bg-dark) 50%, #0f172a 100%);
      background-attachment: fixed;
      color: #e2e8f0;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      line-height: 1.6;
      overflow-x: hidden;
      position: relative;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(ellipse at top, rgba(79, 70, 229, 0.05) 0%, transparent 60%);
      pointer-events: none;
      z-index: 0;
    }

    @keyframes gradientShift {
      0% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }

    h1 {
      text-align: center;
      margin-bottom: 30px;
      font-weight: 700;
      font-size: 3rem;
      background: linear-gradient(90deg, #6366f1, #8b5cf6, #a78bfa);
      background-size: 200% 100%;
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      animation: animateText 6s linear infinite;
      letter-spacing: 3px;
      text-shadow: var(--text-glow);
      position: relative;
      z-index: 1;
      filter: drop-shadow(0 0 20px rgba(99, 102, 241, 0.3));
    }

    @keyframes animateText {
      0% {
        background-position: 200% 0;
      }

      100% {
        background-position: 0 0;
      }
    }

    h2 {
      font-weight: 600;
      margin-top: 0;
      margin-bottom: 20px;
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-size: 1.8rem;
      padding-left: 50px;
      letter-spacing: 1px;
      filter: drop-shadow(0 2px 8px rgba(99, 102, 241, 0.3));
    }

    .container {
      max-width: 900px;
      width: 100%;
      padding: 0 10px;
      position: relative;
      z-index: 1;
    }

    .card {
      background: var(--card-gradient);
      border-radius: 20px;
      padding: 30px;
      margin-bottom: 25px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(20px) saturate(180%);
      border: 1px solid rgba(99, 102, 241, 0.15);
      position: relative;
      width: 100%;
      max-width: 100%;
      transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
    }

    .card:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
      border-color: rgba(99, 102, 241, 0.25);
    }

    .back-arrow {
      position: absolute;
      top: 20px;
      left: 20px;
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.3), rgba(118, 75, 162, 0.3));
      border: 2px solid rgba(102, 126, 234, 0.4);
      border-radius: 50%;
      width: 45px;
      height: 45px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 22px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      z-index: 10;
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }

    .back-arrow:hover {
      transform: translateX(-8px) scale(1.1);
      background: linear-gradient(135deg, rgba(79, 70, 229, 0.4), rgba(124, 58, 237, 0.4));
      border-color: rgba(99, 102, 241, 0.5);
      box-shadow: 0 6px 18px rgba(79, 70, 229, 0.3), 0 0 20px rgba(79, 70, 229, 0.2);
    }

    button {
      background: var(--button-gradient);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 14px;
      margin-right: 8px;
      margin-top: 8px;
      transition: all 0.3s ease;
      font-weight: 600;
      box-shadow: 0 4px 12px rgba(79, 70, 229, 0.25);
      letter-spacing: 0.8px;
      touch-action: manipulation;
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(99, 102, 241, 0.2);
    }

    button::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    button:hover::before {
      width: 300px;
      height: 300px;
    }

    button:hover {
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 8px 20px rgba(79, 70, 229, 0.35), 0 0 25px rgba(79, 70, 229, 0.15);
      border-color: rgba(255, 255, 255, 0.2);
    }

    button:active {
      transform: translateY(0);
    }

    #main-screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
    }

    .tools {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      margin-top: 30px;
      width: 100%;
      max-width: 700px;
      margin-bottom: 30px;
    }

    .tool-button {
      padding: 20px;
      text-align: center;
      font-size: 17px;
      font-weight: 600;
      border-radius: 16px;
      cursor: pointer;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3), 0 5px 15px rgba(0, 0, 0, 0.2);
      position: relative;
      overflow: hidden;
      z-index: 1;
      border: 2px solid rgba(255, 255, 255, 0.1);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      backdrop-filter: blur(10px);
    }

    .tool-button::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.15), transparent);
      transition: transform 0.6s;
      z-index: -1;
    }

    .tool-button:hover::before {
      transform: rotate(45deg) translateX(200%);
    }

    .tool-button:hover {
      transform: translateY(-10px) scale(1.03);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4), 0 10px 25px rgba(0, 0, 0, 0.3), 0 0 40px rgba(102, 126, 234, 0.3);
      border-color: rgba(255, 255, 255, 0.25);
    }

    .bin-checker {
      background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
      box-shadow: 0 15px 35px rgba(30, 58, 138, 0.2), 0 0 30px rgba(30, 58, 138, 0.05);
    }

    .bin-checker:hover {
      box-shadow: 0 25px 50px rgba(30, 58, 138, 0.3), 0 0 40px rgba(30, 58, 138, 0.1);
    }

    .card-generator {
      background: linear-gradient(135deg, #5b21b6 0%, #6d28d9 100%);
      box-shadow: 0 15px 35px rgba(91, 33, 182, 0.2), 0 0 30px rgba(91, 33, 182, 0.05);
    }

    .card-generator:hover {
      box-shadow: 0 25px 50px rgba(91, 33, 182, 0.3), 0 0 40px rgba(91, 33, 182, 0.1);
    }

    .card-checker {
      background: linear-gradient(135deg, #047857 0%, #065f46 100%);
      box-shadow: 0 15px 35px rgba(4, 120, 87, 0.2), 0 0 30px rgba(4, 120, 87, 0.05);
    }

    .card-checker:hover {
      box-shadow: 0 25px 50px rgba(4, 120, 87, 0.3), 0 0 40px rgba(4, 120, 87, 0.1);
    }

    .bin-generator {
      background: linear-gradient(135deg, #334155 0%, #475569 100%);
      box-shadow: 0 15px 35px rgba(51, 65, 85, 0.2), 0 0 30px rgba(51, 65, 85, 0.05);
    }

    .bin-generator:hover {
      box-shadow: 0 25px 50px rgba(51, 65, 85, 0.3), 0 0 40px rgba(51, 65, 85, 0.1);
    }

    textarea {
      width: 100%;
      max-width: 100%;
      height: 140px;
      background: linear-gradient(135deg, rgba(17, 24, 39, 0.6), rgba(31, 41, 55, 0.5));
      color: white;
      border: 2px solid rgba(102, 126, 234, 0.2);
      border-radius: 12px;
      padding: 15px;
      font-family: 'Poppins', monospace;
      resize: vertical;
      font-size: 14px;
      box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3), 0 0 0 0 rgba(102, 126, 234, 0);
      outline: none;
      transition: all 0.3s ease;
    }

    textarea:focus {
      border-color: #667eea;
      box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3), 0 0 0 3px rgba(102, 126, 234, 0.2), 0 0 20px rgba(102, 126, 234, 0.3);
      background: linear-gradient(135deg, rgba(17, 24, 39, 0.8), rgba(31, 41, 55, 0.7));
    }

    input,
    select {
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.8), rgba(30, 41, 59, 0.7));
      color: #e2e8f0;
      border: 2px solid rgba(99, 102, 241, 0.25);
      border-radius: 12px;
      padding: 12px;
      font-family: 'Poppins', sans-serif;
      outline: none;
      font-size: 14px;
      width: 100%;
      max-width: 100%;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }

    select option {
      background: #1e293b;
      color: #e2e8f0;
      padding: 10px;
    }

    select option:hover,
    select option:checked {
      background: #334155;
      color: #ffffff;
    }

    input:focus,
    select:focus {
      border-color: #6366f1;
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2), 0 0 20px rgba(99, 102, 241, 0.25);
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(30, 41, 59, 0.9));
      transform: translateY(-2px);
    }

    .date-inputs {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 12px;
      align-items: flex-start;
    }

    .date-inputs div {
      flex: 1;
      min-width: 90px;
      display: flex;
      flex-direction: column;
    }

    .date-inputs label {
      margin-bottom: 5px;
      font-size: 13px;
    }

    .date-inputs input {
      width: 100%;
    }

    .result-card {
      background: linear-gradient(135deg, rgba(17, 24, 39, 0.8), rgba(31, 41, 55, 0.6));
      border-radius: 16px;
      padding: 20px;
      margin-top: 15px;
      backdrop-filter: blur(10px);
      border: 2px solid rgba(102, 126, 234, 0.2);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25), 0 0 20px rgba(102, 126, 234, 0.1);
      animation: fadeInUp 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      transition: all 0.3s ease;
    }

    .result-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 32px rgba(0, 0, 0, 0.3), 0 0 30px rgba(102, 126, 234, 0.2);
      border-color: rgba(102, 126, 234, 0.4);
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px) scale(0.95);
      }

      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .result-card h3 {
      margin-top: 0;
      margin-bottom: 12px;
      font-weight: 600;
      background: var(--primary-gradient);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-size: 1.3rem;
      letter-spacing: 0.5px;
    }

    .result-card p {
      margin: 5px 0;
      font-size: 0.9rem;
    }

    .hidden {
      display: none;
    }

    #main-screen,
    #bin-checker-screen,
    #card-generator-screen,
    #card-checker-screen,
    #bin-generator-screen {
      opacity: 1;
      transform: translateX(0);
      transition: opacity 0.4s ease, transform 0.4s ease;
      position: relative;
      width: 100%;
    }

    #main-screen.hidden,
    #bin-checker-screen.hidden,
    #card-generator-screen.hidden,
    #card-checker-screen.hidden,
    #bin-generator-screen.hidden {
      opacity: 0;
      transform: translateX(-20px);
      position: absolute;
      pointer-events: none;
      z-index: -1;
    }

    .glow-effect {
      position: relative;
    }

    .glow-effect::after {
      content: '';
      position: absolute;
      top: -4px;
      left: -4px;
      right: -4px;
      bottom: -4px;
      background: inherit;
      border-radius: 18px;
      z-index: -1;
      filter: blur(20px);
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .glow-effect:hover::after {
      opacity: 0.8;
    }

    @keyframes pulse {

      0%,
      100% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.7);
      }

      50% {
        transform: scale(1.05);
        box-shadow: 0 0 0 10px rgba(102, 126, 234, 0);
      }
    }

    .pulse {
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    .tool-icon {
      font-size: 32px;
      margin-bottom: 10px;
      opacity: 0.95;
      filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
      transition: all 0.3s ease;
    }

    .tool-button:hover .tool-icon {
      transform: scale(1.15) rotateY(180deg);
      filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.5));
    }

    .tool-button {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0px);
      }

      50% {
        transform: translateY(-10px);
      }
    }

    .floating {
      animation: float 4s ease-in-out infinite;
    }

    @keyframes spinner {
      0% {
        transform: rotate(0deg);
        border-top-color: #667eea;
      }

      50% {
        border-top-color: #764ba2;
      }

      100% {
        transform: rotate(360deg);
        border-top-color: #667eea;
      }
    }

    .loading-spinner {
      display: block;
      width: 48px;
      height: 48px;
      border: 5px solid rgba(102, 126, 234, 0.2);
      border-radius: 50%;
      border-top-color: #667eea;
      border-right-color: #764ba2;
      animation: spinner 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
      margin: 20px auto;
      filter: drop-shadow(0 0 10px rgba(102, 126, 234, 0.5));
    }

    .loading-container {
      text-align: center;
      padding: 25px;
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.15), rgba(118, 75, 162, 0.15));
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2), inset 0 0 30px rgba(102, 126, 234, 0.1);
      color: white;
      width: 100%;
      max-width: 100%;
      border: 2px solid rgba(102, 126, 234, 0.2);
      backdrop-filter: blur(10px);
    }

    .loading-container p {
      font-size: 0.9rem;
      margin: 5px 0;
    }

    .card-checker-results {
      margin-top: 15px;
    }

    .result-sections {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
    }

    .result-section {
      flex: 1;
      min-width: 280px;
    }

    .result-section h3 {
      background: var(--secondary-gradient);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin-bottom: 10px;
      font-size: 1.3rem;
    }

    .result-section .result-card {
      margin-top: 8px;
    }

    .result-section.unknown {
      flex: 100%;
    }

    @media (max-width: 768px) {
      body {
        padding: 15px;
      }

      h1 {
        font-size: 2.2rem;
        margin-bottom: 20px;
      }

      h2 {
        font-size: 1.3rem;
        margin-bottom: 10px;
        padding-left: 60px;
      }

      .card {
        padding: 20px;
        margin-bottom: 15px;
      }

      .back-arrow {
        top: 20px;
        left: 20px;
        width: 40px;
        height: 40px;
        font-size: 18px;
      }

      button {
        padding: 10px 18px;
        font-size: 13px;
        margin-right: 6px;
        margin-top: 6px;
      }

      .tools {
        grid-template-columns: 1fr;
        gap: 15px;
        margin-top: 20px;
        max-width: 100%;
      }

      .tool-button {
        padding: 18px;
        font-size: 16px;
      }

      .tool-icon {
        font-size: 28px;
        margin-bottom: 8px;
      }

      textarea {
        height: 100px;
        font-size: 12px;
        padding: 8px;
      }

      input,
      select {
        font-size: 12px;
        padding: 8px;
      }

      .date-inputs {
        flex-direction: column;
        gap: 12px;
        margin-bottom: 10px;
      }

      .date-inputs div {
        min-width: 100%;
      }

      .date-inputs label {
        font-size: 12px;
        margin-bottom: 4px;
      }

      .result-card {
        padding: 12px;
        margin-top: 12px;
      }

      .result-card h3 {
        font-size: 1.1rem;
        margin-bottom: 6px;
      }

      .result-card p {
        font-size: 0.85rem;
      }

      .result-sections {
        flex-direction: column;
        gap: 10px;
      }

      .result-section {
        min-width: 100%;
      }

      .loading-spinner {
        width: 32px;
        height: 32px;
        margin: 10px auto;
      }

      .loading-container p {
        font-size: 0.85rem;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Credit Card Tools</h1>

    <div id="main-screen">
      <div class="tools">
        <div class="tool-button bin-checker glow-effect floating" onclick="showScreen('bin-checker-screen')">
          <div class="tool-icon">üîç</div>
          <div>BIN Checker</div>
        </div>
        <div class="tool-button card-generator glow-effect floating" style="animation-delay: 0.2s"
          onclick="showScreen('card-generator-screen')">
          <div class="tool-icon">üîÑ</div>
          <div>Card Generator</div>
        </div>
        <div class="tool-button card-checker glow-effect floating" style="animation-delay: 0.4s"
          onclick="showScreen('card-checker-screen')">
          <div class="tool-icon">‚úì</div>
          <div>Card Checker (Luhn)</div>
        </div>
        <div class="tool-button bin-generator glow-effect floating" style="animation-delay: 0.6s"
          onclick="showScreen('bin-generator-screen')">
          <div class="tool-icon">‚öôÔ∏è</div>
          <div>BIN Generator</div>
        </div>
      </div>

      <div class="card"
        style="margin-top: 30px; text-align: center; background: linear-gradient(135deg, rgba(15, 23, 42, 0.8), rgba(30, 41, 59, 0.8)); border: 1px solid rgba(99, 102, 241, 0.2); padding: 25px;">
        <div
          style="margin-bottom: 12px; background: var(--primary-gradient); -webkit-background-clip: text; background-clip: text; color: transparent; font-weight: 700; font-size: 1.2rem; letter-spacing: 1px;">
          Made by Org_Lemah</div>
        <p style="font-size: 1rem; margin: 0; color: #cbd5e1;">Join Telegram: <a href="https://t.me/sambat1234"
            target="_blank"
            style="color: #8b5cf6; text-decoration: none; font-weight: 600; transition: all 0.3s ease; position: relative; padding: 8px 16px; border-radius: 10px; background: rgba(99, 102, 241, 0.15); border: 1px solid rgba(99, 102, 241, 0.3); display: inline-block;">@sambat1234</a>
        </p>
      </div>
    </div>
  </div>

  <div id="bin-checker-screen" class="hidden">
    <div class="card">
      <button class="back-arrow" onclick="showScreen('main-screen')" title="Back to Main">‚Üê</button>
      <h2>BIN Checker</h2>
      <p>Enter BIN (first 6 digits of card number)</p>

      <textarea id="bin-input" placeholder="Enter BIN numbers (separated by space, comma, or new lines)"></textarea>

      <div style="display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap;">
        <button class="pulse" style="background: var(--bin-gradient);" onclick="checkBIN()">Check BIN</button>
        <button style="background: linear-gradient(135deg, #4338ca, #3b82f6);"
          onclick="document.getElementById('bin-file-import').click()">Import from File</button>
        <input type="file" id="bin-file-import" style="display: none" onchange="importBINFile(this)"
          accept=".txt,.csv" />
        <button style="background: linear-gradient(135deg, #ef4444, #f87171);"
          onclick="clearBINResults()">Clear</button>
      </div>

      <div id="bin-results"></div>
    </div>
  </div>

  <div id="card-generator-screen" class="hidden">
    <div class="card">
      <button class="back-arrow" onclick="showScreen('main-screen')" title="Back to Main">‚Üê</button>
      <h2>Card Generator</h2>

      <div style="margin-bottom: 12px;">
        <label>BIN (first 6 digits):</label>
        <input type="text" id="gen-bin" placeholder="e.g., 423456">
      </div>

      <div class="date-inputs">
        <div>
          <label>Month (MM):</label>
          <select id="gen-mm">
            <option value="">Random</option>
            <option value="01">01</option>
            <option value="02">02</option>
            <option value="03">03</option>
            <option value="04">04</option>
            <option value="05">05</option>
            <option value="06">06</option>
            <option value="07">07</option>
            <option value="08">08</option>
            <option value="09">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
          </select>
        </div>
        <div>
          <label>Year (YY):</label>
          <select id="gen-yy">
            <option value="">Random</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
          </select>
        </div>
        <div>
          <label>CVV:</label>
          <input type="number" id="gen-cvv" placeholder="Leave blank to randomize (3 or 4 digits)" min="100" max="9999">
        </div>
      </div>

      <div style="margin-bottom: 12px;">
        <label>Quantity:</label>
        <input type="number" id="gen-quantity" value="10" min="1" max="100">
      </div>

      <div style="display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap;">
        <button class="pulse" style="background: var(--generator-gradient);" onclick="generateCards()">Generate
          Cards</button>
        <button style="background: linear-gradient(135deg, #ef4444, #f87171);"
          onclick="clearGeneratorResults()">Clear</button>
      </div>

      <div id="generator-results" class="hidden" style="margin-top: 15px;">
        <h3>Generated Cards</h3>
        <button class="pulse" style="background: linear-gradient(135deg, #4c1d95, #6d28d9);"
          onclick="copyGeneratedCards()">Copy All</button>
        <textarea id="generated-cards" readonly style="margin-top: 8px;"></textarea>
      </div>
    </div>

    <div class="card">
      <button class="back-arrow" onclick="showScreen('main-screen')" title="Back to Main">‚Üê</button>
      <h2>Multiple Card Generator</h2>

      <div style="margin-bottom: 12px;">
        <label>Multiple BINs (one per line):</label>
        <textarea id="multi-gen-bins" placeholder="Enter BINs, one per line"></textarea>
      </div>

      <div class="date-inputs">
        <div>
          <label>Month (MM):</label>
          <select id="multi-gen-mm">
            <option value="">Random</option>
            <option value="01">01</option>
            <option value="02">02</option>
            <option value="03">03</option>
            <option value="04">04</option>
            <option value="05">05</option>
            <option value="06">06</option>
            <option value="07">07</option>
            <option value="08">08</option>
            <option value="09">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
          </select>
        </div>
        <div>
          <label>Year (YY):</label>
          <select id="multi-gen-yy">
            <option value="">Random</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
          </select>
        </div>
        <div>
          <label>CVV:</label>
          <input type="number" id="multi-gen-cvv" placeholder="Leave blank to randomize (3 or 4 digits)" min="100"
            max="9999">
        </div>
      </div>

      <div style="margin-bottom: 12px;">
        <label>Cards per BIN:</label>
        <input type="number" id="multi-gen-quantity" value="5" min="1" max="50">
      </div>

      <div style="display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap;">
        <button class="pulse" style="background: var(--generator-gradient);"
          onclick="generateMultipleBINCards()">Generate Cards</button>
        <button style="background: linear-gradient(135deg, #ef4444, #f87171);"
          onclick="clearMultiGeneratorResults()">Clear</button>
      </div>

      <div id="multi-generator-results" class="hidden" style="margin-top: 15px;">
        <h3>Generated Cards</h3>
        <button class="pulse" style="background: linear-gradient(135deg, #4c1d95, #6d28d9);"
          onclick="copyMultiGeneratedCards()">Copy All</button>
        <textarea id="multi-generated-cards" readonly style="margin-top: 8px;"></textarea>
      </div>
    </div>
  </div>

  <div id="card-checker-screen" class="hidden">
    <div class="card">
      <button class="back-arrow" onclick="showScreen('main-screen')" title="Back to Main">‚Üê</button>
      <h2>Card Checker</h2>
      <p>Enter cards to validate (format: XXXXXXXXXXXXXXXX|MM|YY|CVV)</p>

      <textarea id="cards-input" placeholder="One card per line, format: XXXXXXXXXXXXXXXX|MM|YY|CVV"></textarea>

      <div style="display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap;">
        <button class="pulse" style="background: var(--checker-gradient);" onclick="checkCards()">Check Cards</button>
        <button style="background: linear-gradient(135deg, #4338ca, #3b82f6);"
          onclick="document.getElementById('cards-file-import').click()">Import from File</button>
        <input type="file" id="cards-file-import" style="display: none" onchange="importCardsFile(this)"
          accept=".txt,.csv" />
        <button style="background: linear-gradient(135deg, #ef4444, #f87171);"
          onclick="clearCardResults()">Clear</button>
      </div>

      <div id="card-results">
        <div id="card-check-spinner" class="hidden"></div>
        <div id="card-check-results" class="card-checker-results"></div>
      </div>
    </div>
  </div>

  <div id="bin-generator-screen" class="hidden">
    <div class="card">
      <button class="back-arrow" onclick="showScreen('main-screen')" title="Back to Main">‚Üê</button>
      <h2>BIN Generator</h2>

      <div style="margin-bottom: 12px;">
        <label>Card Type:</label>
        <select id="bin-gen-type">
          <option value="Visa">Visa</option>
          <option value="MasterCard">MasterCard</option>
          <option value="Amex">Amex</option>
          <option value="Discover">Discover</option>
        </select>
      </div>

      <div style="margin-bottom: 12px;">
        <label>Quantity:</label>
        <input type="number" id="bin-gen-quantity" value="10" min="1" max="100">
      </div>

      <div style="display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap;">
        <button class="pulse" style="background: var(--bin-generator-gradient);" onclick="generateBINs()">Generate
          BINs</button>
        <button style="background: linear-gradient(135deg, #ef4444, #f87171);"
          onclick="clearBINGeneratorResults()">Clear</button>
      </div>

      <div id="bin-generator-results" class="hidden" style="margin-top: 15px;">
        <h3>Generated BINs</h3>
        <button class="pulse" style="background: linear-gradient(135deg, #4c1d95, #6d28d9);"
          onclick="copyGeneratedBINs()">Copy All</button>
        <button class="pulse" style="background: linear-gradient(135deg, #2dd4bf, #14b8a6);"
          onclick="downloadGeneratedBINs()">Download Results</button>
        <textarea id="generated-bins" readonly style="margin-top: 8px;"></textarea>
      </div>
    </div>
  </div>
  </div>

  <script>
    console.log('Credit Card Tools script loaded.');

    const cardCheckCache = new Map();

    function showScreen(screenId) {
      if (window.isTransitioning) return;
      window.isTransitioning = true;

      const allScreens = {
        'main-screen': document.getElementById('main-screen'),
        'bin-checker-screen': document.getElementById('bin-checker-screen'),
        'card-generator-screen': document.getElementById('card-generator-screen'),
        'card-checker-screen': document.getElementById('card-checker-screen'),
        'bin-generator-screen': document.getElementById('bin-generator-screen')
      };

      let currentScreen = null;
      Object.values(allScreens).forEach(screen => {
        if (!screen.classList.contains('hidden')) {
          currentScreen = screen;
        }
      });

      const targetScreen = allScreens[screenId];
      const animationDuration = 300;

      if (currentScreen && currentScreen.id !== screenId) {
        currentScreen.style.transition = `opacity ${animationDuration / 1000}s ease, transform ${animationDuration / 1000}s ease`;
        currentScreen.style.opacity = '0';
        currentScreen.style.transform = 'translateX(-20px)';

        setTimeout(() => {
          currentScreen.classList.add('hidden');
          targetScreen.style.transition = 'none';
          targetScreen.style.opacity = '0';
          targetScreen.style.transform = 'translateX(20px)';
          targetScreen.classList.remove('hidden');

          void targetScreen.offsetWidth;

          targetScreen.style.transition = `opacity ${animationDuration / 1000}s ease, transform ${animationDuration / 1000}s ease`;
          targetScreen.style.opacity = '1';
          targetScreen.style.transform = 'translateX(0)';

          setTimeout(() => {
            window.isTransitioning = false;
          }, animationDuration);
        }, animationDuration);
      }
      else {
        targetScreen.classList.remove('hidden');
        targetScreen.style.opacity = '1';
        targetScreen.style.transform = 'translateX(0)';
        window.isTransitioning = false;
      }
    }

    async function checkBIN() {
      const binInput = document.getElementById('bin-input').value;
      const resultsDiv = document.getElementById('bin-results');

      if (!binInput.trim()) {
        resultsDiv.innerHTML = '<div class="result-card" style="color: #fc8181;">Please enter at least one BIN</div>';
        return;
      }

      const bins = binInput.split(/[\s,;]+/)
        .map(bin => bin.replace(/\D/g, '').trim())
        .filter(bin => bin.length >= 6)
        .map(bin => bin.substring(0, 6));

      if (bins.length === 0) {
        resultsDiv.innerHTML = '<div class="result-card" style="color: #fc8181;">No valid BINs found</div>';
        return;
      }

      resultsDiv.innerHTML = `
        <div class="loading-container">
          <div class="loading-spinner"></div>
          <p>Fetching BIN data from API...</p>
          <p style="font-size: 0.8em; margin-top: 10px;">Checking ${bins.length} BIN${bins.length > 1 ? 's' : ''}</p>
        </div>
      `;

      try {
        let results = '';
        let successCount = 0;

        // Fetch each BIN from BINlist.net API
        for (const bin of bins) {
          try {
            // Use CORS proxy to bypass file:// protocol restrictions
            const corsProxy = 'https://api.allorigins.win/raw?url=';
            const apiUrl = `https://lookup.binlist.net/${bin}`;
            const response = await fetch(corsProxy + encodeURIComponent(apiUrl), {
              method: 'GET'
            });

            if (response.ok) {
              const data = await response.json();
              successCount++;

              results += `
                <div class="result-card">
                  <h3>BIN: ${bin}</h3>
                  <p><strong>Brand:</strong> ${data.scheme ? data.scheme.toUpperCase() : 'Unknown'}</p>
                  <p><strong>Type:</strong> ${data.type ? data.type.charAt(0).toUpperCase() + data.type.slice(1) : 'Unknown'}</p>
                  <p><strong>Category:</strong> ${data.brand || 'Unknown'}</p>
                  <p><strong>Bank:</strong> ${data.bank?.name || 'Unknown'}</p>
                  <p><strong>Country:</strong> ${data.country?.name || 'Unknown'} ${data.country?.emoji || ''}</p>
                  ${data.prepaid !== undefined ? `<p><strong>Prepaid:</strong> ${data.prepaid ? 'Yes' : 'No'}</p>` : ''}
                </div>
              `;
            } else {
              results += `
                <div class="result-card">
                  <h3>BIN: ${bin}</h3>
                  <p style="color: #fc8181;">BIN not found or API error</p>
                  <p style="font-size: 0.8em; color: #718096;">Try: 424242, 400000, 401200, or 555555</p>
                </div>
              `;
            }

            // Small delay to avoid rate limiting
            await new Promise(resolve => setTimeout(resolve, 300));

          } catch (error) {
            results += `
              <div class="result-card">
                <h3>BIN: ${bin}</h3>
                <p style="color: #fc8181;">Error fetching BIN data</p>
                <p style="font-size: 0.8em; color: #718096;">Please check your internet connection</p>
              </div>
            `;
          }
        }

        results += `
          <div style="display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap;">
            <button class="pulse" style="background: linear-gradient(135deg, #4c1d95, #6d28d9);" onclick="copyBINResults()">Copy All</button>
            <button class="pulse" style="background: linear-gradient(135deg, #2dd4bf, #14b8a6);" onclick="downloadBINResults()">Download Results</button>
          </div>
          <div style="margin-top: 15px; font-size: 0.8em; color: #718096; text-align: center;">
            API: BINlist.net | Checked: ${bins.length} BINs | Success: ${successCount}
          </div>
        `;

        resultsDiv.innerHTML = results;
      } catch (error) {
        resultsDiv.innerHTML = `
          <div class="result-card" style="color: #fc8181;">
            Error: ${error.message}
            <p style="margin-top: 10px; font-size: 0.9em;">
              Make sure you have an active internet connection.
              This tool uses BINlist.net API for real-time BIN lookup.
            </p>
          </div>
        `;
      }
    }

    function copyBINResults() {
      const resultsDiv = document.getElementById('bin-results');
      const resultCards = resultsDiv.getElementsByClassName('result-card');
      let textToCopy = '';

      Array.from(resultCards).forEach(card => {
        const bin = card.querySelector('h3')?.textContent.replace('BIN: ', '') || '';
        const brand = card.querySelector('p:nth-child(2)')?.textContent.replace('Brand: ', '') || '';
        const type = card.querySelector('p:nth-child(3)')?.textContent.replace('Type: ', '') || '';
        const category = card.querySelector('p:nth-child(4)')?.textContent.replace('Category: ', '') || '';
        const issuer = card.querySelector('p:nth-child(5)')?.textContent.replace('Issuer: ', '') || '';
        const country = card.querySelector('p:nth-child(6)')?.textContent.replace('Country: ', '') || '';

        textToCopy += `BIN: ${bin}\nBrand: ${brand}\nType: ${type}\nCategory: ${category}\nIssuer: ${issuer}\nCountry: ${country}\n\n`;
      });

      const textarea = document.createElement('textarea');
      textarea.value = textToCopy.trim();
      document.body.appendChild(textarea);
      textarea.select();
      document.execCommand('copy');
      document.body.removeChild(textarea);
      alert('BIN results copied to clipboard!');
    }

    function downloadBINResults() {
      const resultsDiv = document.getElementById('bin-results');
      const resultCards = resultsDiv.getElementsByClassName('result-card');
      let textToDownload = '';

      Array.from(resultCards).forEach(card => {
        const bin = card.querySelector('h3')?.textContent.replace('BIN: ', '') || '';
        const brand = card.querySelector('p:nth-child(2)')?.textContent.replace('Brand: ', '') || '';
        const type = card.querySelector('p:nth-child(3)')?.textContent.replace('Type: ', '') || '';
        const category = card.querySelector('p:nth-child(4)')?.textContent.replace('Category: ', '') || '';
        const issuer = card.querySelector('p:nth-child(5)')?.textContent.replace('Issuer: ', '') || '';
        const country = card.querySelector('p:nth-child(6)')?.textContent.replace('Country: ', '') || '';

        textToDownload += `BIN: ${bin}\nBrand: ${brand}\nType: ${type}\nCategory: ${category}\nIssuer: ${issuer}\nCountry: ${country}\n\n`;
      });

      const blob = new Blob([textToDownload.trim()], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'bin_results.txt';
      a.click();
      URL.revokeObjectURL(url);
    }

    function clearBINResults() {
      document.getElementById('bin-results').innerHTML = '';
      document.getElementById('bin-input').value = '';
    }

    function clearCardResults() {
      document.getElementById('card-check-spinner').classList.add('hidden');
      document.getElementById('card-check-results').innerHTML = '';
      document.getElementById('cards-input').value = '';
      cardCheckCache.clear();
    }

    function clearGeneratorResults() {
      document.getElementById('generator-results').classList.add('hidden');
      document.getElementById('generated-cards').value = '';
      document.getElementById('gen-bin').value = '';
      // Removed gen-dd
      document.getElementById('gen-mm').value = '';
      document.getElementById('gen-yy').value = '';
      document.getElementById('gen-cvv').value = '';
      document.getElementById('gen-quantity').value = '10';
    }

    function generateCards() {
      const bin = document.getElementById('gen-bin').value.replace(/\D/g, '');
      // const dd = document.getElementById('gen-dd').value; // Removed from here
      const mm = document.getElementById('gen-mm').value;
      const yy = document.getElementById('gen-yy').value;
      const cvv = document.getElementById('gen-cvv').value;
      const quantity = parseInt(document.getElementById('gen-quantity').value) || 10;
      const resultsArea = document.getElementById('generated-cards');
      const resultsContainer = document.getElementById('generator-results');

      if (bin.length < 6) {
        alert('Please enter at least 6 digits for the BIN');
        return;
      }

      resultsContainer.classList.remove('hidden');
      resultsArea.value = '';
      resultsArea.parentNode.insertAdjacentHTML('afterbegin', `
        <div id="generator-spinner" class="loading-container" style="margin-bottom: 15px;">
          <div class="loading-spinner"></div>
          <p>Generating cards...</p>
          <p style="font-size: 0.8em; margin-top: 10px;">Creating ${quantity} card${quantity > 1 ? 's' : ''} with BIN ${bin}</p>
        </div>
      `);

      setTimeout(() => {
        const cards = [];
        const currentYear = new Date().getFullYear();

        for (let i = 0; i < quantity; i++) {
          const cardNumber = generateCardNumber(bin);

          // Month (MM)
          const month = mm ? parseInt(mm) : Math.floor(Math.random() * 12) + 1;
          const validMonth = String(Math.min(month, 12)).padStart(2, '0');

          // Year (YY) - 2 digit format, range 26-35
          let year;
          if (yy) {
            year = parseInt(yy);
          } else {
            year = Math.floor(Math.random() * 10) + 26; // Random year between 26 and 35
          }
          const validYear = String(year).padStart(2, '0');

          // CVV - Amex uses 4 digits, others use 3 digits
          let validCvv;
          const isAmex = cardNumber.startsWith('34') || cardNumber.startsWith('37');

          if (cvv) {
            validCvv = parseInt(cvv);
          } else {
            if (isAmex) {
              // Amex: 4 digit CVV (1000-9999)
              validCvv = Math.floor(Math.random() * 9000) + 1000;
            } else {
              // Others: 3 digit CVV (100-999)
              validCvv = Math.floor(Math.random() * 900) + 100;
            }
          }

          // Output format: cardnum|month|year|cvv
          const cvvPadding = isAmex ? 4 : 3;
          cards.push(`${cardNumber}|${validMonth}|${validYear}|${String(validCvv).padStart(cvvPadding, '0')}`);
        }

        const spinner = document.getElementById('generator-spinner');
        if (spinner) spinner.remove();

        resultsArea.value = cards.join('\n');
      }, 500);
    }

    function generateCardNumber(bin) {
      // Detect card type based on BIN
      const binStr = bin.toString();
      let targetLength;

      // American Express: starts with 34 or 37 (15 digits)
      if (binStr.startsWith('34') || binStr.startsWith('37')) {
        targetLength = 15;
      }
      // Diners Club: starts with 36, 38, or 30 (14 digits)
      else if (binStr.startsWith('36') || binStr.startsWith('38') || binStr.startsWith('30')) {
        targetLength = 14;
      }
      // Visa, Mastercard, Discover: 16 digits
      else {
        targetLength = 16;
      }

      let cardNumber = bin;
      // Generate random digits up to (targetLength - 1) to leave room for check digit
      while (cardNumber.length < targetLength - 1) {
        cardNumber += Math.floor(Math.random() * 10);
      }

      // Calculate Luhn check digit
      let sum = 0;
      let isEven = false;
      for (let i = cardNumber.length - 1; i >= 0; i--) {
        let digit = parseInt(cardNumber[i], 10);
        if (isEven) {
          digit *= 2;
          if (digit > 9) digit -= 9;
        }
        sum += digit;
        isEven = !isEven;
      }
      const checkDigit = (10 - (sum % 10)) % 10;

      return cardNumber + checkDigit;
    }

    function copyGeneratedCards() {
      const textarea = document.getElementById('generated-cards');
      textarea.select();
      document.execCommand('copy');
      alert('Cards copied to clipboard!');
    }

    function clearMultiGeneratorResults() {
      document.getElementById('multi-generator-results').classList.add('hidden');
      document.getElementById('multi-generated-cards').value = '';
      document.getElementById('multi-gen-bins').value = '';
      // Removed multi-gen-dd
      document.getElementById('multi-gen-mm').value = '';
      document.getElementById('multi-gen-yy').value = '';
      document.getElementById('multi-gen-cvv').value = '';
      document.getElementById('multi-gen-quantity').value = '5';
    }

    function copyMultiGeneratedCards() {
      const textarea = document.getElementById('multi-generated-cards');
      textarea.select();
      document.execCommand('copy');
      alert('Cards copied to clipboard!');
    }

    function generateMultipleBINCards() {
      const binsInput = document.getElementById('multi-gen-bins').value;
      // const dd = document.getElementById('multi-gen-dd').value; // Removed from here
      const mm = document.getElementById('multi-gen-mm').value;
      const yy = document.getElementById('multi-gen-yy').value;
      const cvv = document.getElementById('multi-gen-cvv').value;
      const quantity = parseInt(document.getElementById('multi-gen-quantity').value) || 5;
      const resultsArea = document.getElementById('multi-generated-cards');
      const resultsContainer = document.getElementById('multi-generator-results');

      if (!binsInput.trim()) {
        alert('Please enter at least one BIN');
        return;
      }

      const bins = binsInput.split(/[\s,;]+/)
        .map(bin => bin.replace(/\D/g, '').trim())
        .filter(bin => bin.length >= 6)
        .map(bin => bin.substring(0, 6));

      if (bins.length === 0) {
        alert('No valid BINs found');
        return;
      }

      resultsContainer.classList.remove('hidden');
      resultsArea.value = '';
      resultsContainer.insertAdjacentHTML('afterbegin', `
        <div id="multi-generator-spinner" class="loading-container" style="margin-bottom: 15px;">
          <div class="loading-spinner"></div>
          <p>Generating cards...</p>
          <p style="font-size: 0.8em; margin-top: 10px;">Creating ${quantity} cards for each of ${bins.length} BINs</p>
        </div>
      `);

      setTimeout(() => {
        const allCards = [];
        const currentYear = new Date().getFullYear();

        bins.forEach(bin => {
          for (let i = 0; i < quantity; i++) {
            const cardNumber = generateCardNumber(bin);

            // Month (MM)
            const month = mm ? parseInt(mm) : Math.floor(Math.random() * 12) + 1;
            const validMonth = String(Math.min(month, 12)).padStart(2, '0');

            // Year (YY) - 2 digit format, range 26-35
            let year;
            if (yy) {
              year = parseInt(yy);
            } else {
              year = Math.floor(Math.random() * 10) + 26; // Random year between 26 and 35
            }
            const validYear = String(year).padStart(2, '0');

            // CVV - Amex uses 4 digits, others use 3 digits
            let validCvv;
            const isAmex = cardNumber.startsWith('34') || cardNumber.startsWith('37');

            if (cvv) {
              validCvv = parseInt(cvv);
            } else {
              if (isAmex) {
                // Amex: 4 digit CVV (1000-9999)
                validCvv = Math.floor(Math.random() * 9000) + 1000;
              } else {
                // Others: 3 digit CVV (100-999)
                validCvv = Math.floor(Math.random() * 900) + 100;
              }
            }

            // Output format: cardnum|month|year|cvv
            const cvvPadding = isAmex ? 4 : 3;
            allCards.push(`${cardNumber}|${validMonth}|${validYear}|${String(validCvv).padStart(cvvPadding, '0')}`);
          }
        });

        const spinner = document.getElementById('multi-generator-spinner');
        if (spinner) spinner.remove();

        resultsArea.value = allCards.join('\n');
      }, 500);
    }

    async function checkCards() {
      const cardsInput = document.getElementById('cards-input').value;
      const spinnerDiv = document.getElementById('card-check-spinner');
      const resultsDiv = document.getElementById('card-check-results');

      if (!cardsInput.trim()) {
        resultsDiv.innerHTML = '<div class="result-card" style="color: #fc8181;">Please enter at least one card</div>';
        return;
      }

      const cards = cardsInput.split('\n').filter(card => card.trim());
      if (cards.length === 0) {
        resultsDiv.innerHTML = '<div class="result-card" style="color: #fc8181;">No valid cards found</div>';
        return;
      }

      spinnerDiv.innerHTML = `
              < div class= "loading-container" >
          <div class="loading-spinner"></div>
          <p>Validating cards...</p>
          <p style="font-size: 0.8em; margin-top: 10px;">Processing ${cards.length} card${cards.length > 1 ? 's' : ''}</p>
        </div >
              `;
      spinnerDiv.classList.remove('hidden');
      resultsDiv.innerHTML = '';

      let checkedCount = 0;
      const liveCards = [];
      const deadCards = [];
      const unknownCards = [];

      for (const card of cards) {
        checkedCount++;
        let cardNumber, expiry, cvv;

        if (card.includes('|')) {
          const parts = card.split('|');
          cardNumber = parts[0].replace(/\D/g, '');

          // Assuming format is cardnum|MM|YYYY|CVV
          if (parts.length >= 4) {
            expiry = `${parts[1]} | ${parts[2]}`; // MM|YYYY
            cvv = parts[3];
          } else if (parts.length >= 3) { // Fallback for older formats or partial inputs
            // Try to infer MM|YY or MM/YY
            const expiryPart = parts[1];
            const cvvPart = parts[2];

            if (expiryPart.includes('/') || expiryPart.includes('|')) {
              expiry = expiryPart;
              cvv = cvvPart;
            } else { // Assume MM and YY are separate parts[1] and parts[2]
              expiry = `${parts[1]} | ${parts[2]}`;
              cvv = parts[3]; // This might be undefined if only 3 parts
            }
          }
        } else {
          const matches = card.match(/\d+/g) || [];
          if (matches.length > 0) {
            const cardNumbers = matches.filter(m => m.length >= 13 && m.length <= 19);
            if (cardNumbers.length > 0) {
              cardNumber = cardNumbers[0];
              // Attempt to find MM|YYYY or MM|YY
              const expiryMatch = card.match(/(\d{1,2})[\/\|](\d{2,4})/);
              if (expiryMatch) {
                expiry = expiryMatch[0].replace('/', '|');
              }
              const nonCardNumberMatches = matches.filter(m => m !== cardNumber && !expiry?.includes(m));
              const possibleCvvs = nonCardNumberMatches.filter(m => m.length >= 3 && m.length <= 4);
              if (possibleCvvs.length > 0) {
                cvv = possibleCvvs[0];
              }
            }
          }
        }

        const cardKey = `${cardNumber || 'invalid'}| ${expiry || 'invalid'}| ${cvv || 'invalid'} `;

        let result;
        if (cardCheckCache.has(cardKey)) {
          result = cardCheckCache.get(cardKey);
        } else {
          let status, statusColor, message;
          if (!cardNumber || cardNumber.length < 13 || cardNumber.length > 19 || !expiry || !cvv) {
            status = 'Unknown';
            statusColor = '#fc8181';
            message = 'Invalid format';
          } else {
            const isCardValid = validateCardNumber(cardNumber);
            status = isCardValid ? 'Live' : 'Dead';
            statusColor = isCardValid ? '#68d391' : '#fc8181';
            message = isCardValid ? 'Valid (Luhn)' : 'Invalid (Luhn)';
          }

          result = {
            cardNumber: cardNumber || 'Invalid',
            expiry: expiry || 'Not found',
            cvv: cvv || 'Not found',
            status,
            statusColor,
            message
          };
          cardCheckCache.set(cardKey, result);
        }

        const cardHtml = `
            < div class="result-card" >
            <h3>Card Check Results</h3>
            <p><strong>Card Number:</strong> ${formatCardNumber(result.cardNumber)}</p>
            <p><strong>Expiry:</strong> ${result.expiry}</p>
            <p><strong>CVV:</strong> ${result.cvv}</p>
            <p><strong>Status:</strong> <span style="color: ${result.statusColor};">${result.status}</span></p>
            <p><strong>Message:</strong> ${result.message}</p>
          </div >
            `;

        if (result.status === 'Live') {
          liveCards.push(cardHtml);
        } else if (result.status === 'Dead') {
          deadCards.push(cardHtml);
        } else {
          unknownCards.push(cardHtml);
        }

        const remaining = cards.length - checkedCount;
        spinnerDiv.innerHTML = `
            < div class="loading-container" >
            <div class="loading-spinner"></div>
            <p>Validating cards...</p>
            <p style="font-size: 0.8em; margin-top: 10px;">${remaining} card${remaining !== 1 ? 's' : ''} remaining</p>
          </div >
            `;
      }

      let resultsHtml = '<div class="result-sections">';

      resultsHtml += `
            < div class="result-section live" >
              <h3>Live Cards (${liveCards.length})</h3>
          ${liveCards.length > 0 ? liveCards.join('') : '<p style="color: #718096;">No live cards found.</p>'}
          ${liveCards.length > 0 ? `
            <div style="display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap;">
              <button class="pulse" style="background: linear-gradient(135deg, #4c1d95, #6d28d9);" onclick="copyLiveCards()">Copy All</button>
              <button class="pulse" style="background: linear-gradient(135deg, #2dd4bf, #14b8a6);" onclick="downloadLiveCards()">Download All</button>
              <button class="pulse" style="background: linear-gradient(135deg, #8b5cf6, #a78bfa);" onclick="copyLiveCardsOnly()">Copy Cards Only</button>
              <button class="pulse" style="background: linear-gradient(135deg, #f59e0b, #d97706);" onclick="downloadLiveCardsOnly()">Download Cards Only</button>
            </div>
          ` : ''
        }
        </div >
            `;

      resultsHtml += `
            < div class="result-section dead" >
              <h3>Dead Cards (${deadCards.length})</h3>
          ${deadCards.length > 0 ? deadCards.join('') : '<p style="color: #718096;">No dead cards found.</p>'}
        </div >
            `;

      resultsHtml += `
            < div class="result-section unknown" >
              <h3>Unknown Cards (${unknownCards.length})</h3>
          ${unknownCards.length > 0 ? unknownCards.join('') : '<p style="color: #718096;">No unknown cards found.</p>'}
        </div >
            `;

      resultsHtml += '</div>';

      spinnerDiv.classList.add('hidden');
      resultsDiv.innerHTML = resultsHtml;
    }

    function validateCardNumber(cardNumber) {
      if (!cardNumber || cardNumber.length < 13 || cardNumber.length > 19) {
        return false;
      }

      const digits = cardNumber.split('').map(Number);
      let sum = 0;
      let isEven = false;

      for (let i = digits.length - 1; i >= 0; i--) {
        let digit = digits[i];

        if (isEven) {
          digit *= 2;
          if (digit > 9) {
            digit -= 9;
          }
        }

        sum += digit;
        isEven = !isEven;
      }

      return sum % 10 === 0;
    }

    function formatCardNumber(cardNumber) {
      return cardNumber.replace(/(\d{4})(?=\d)/g, '$1 ');
    }

    function importBINFile(fileInput) {
      const file = fileInput.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function (e) {
        const content = e.target.result;
        const bins = content.split(/[\r\n]+/)
          .map(line => line.trim())
          .filter(line => line.length > 0);

        document.getElementById('bin-input').value = bins.join('\n');
        fileInput.value = '';
      };
      reader.readAsText(file);
    }

    function importCardsFile(fileInput) {
      const file = fileInput.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function (e) {
        const content = e.target.result;
        const cards = content.split(/[\r\n]+/)
          .map(line => line.trim())
          .filter(line => line.length > 0);

        document.getElementById('cards-input').value = cards.join('\n');
        fileInput.value = '';
      };
      reader.readAsText(file);
    }

    function generateBINs() {
      const cardType = document.getElementById('bin-gen-type').value;
      const quantity = parseInt(document.getElementById('bin-gen-quantity').value) || 10;
      const resultsArea = document.getElementById('generated-bins');
      const resultsContainer = document.getElementById('bin-generator-results');

      if (quantity < 1 || quantity > 100) {
        alert('Please enter a quantity between 1 and 100');
        return;
      }

      resultsContainer.classList.remove('hidden');
      resultsArea.value = '';
      resultsArea.parentNode.insertAdjacentHTML('afterbegin', `
            < div id = "bin-generator-spinner" class="loading-container" style = "margin-bottom: 15px;" >
          <div class="loading-spinner"></div>
          <p>Generating BINs...</p>
          <p style="font-size: 0.8em; margin-top: 10px;">Creating ${quantity} BIN${quantity > 1 ? 's' : ''} for ${cardType}</p>
        </div >
            `);

      setTimeout(() => {
        const bins = [];
        const prefixes = {
          Visa: ['4'],
          MasterCard: ['51', '52', '53', '54', '55'],
          Amex: ['34', '37'],
          Discover: ['6011', '65']
        };

        const selectedPrefixes = prefixes[cardType];
        for (let i = 0; i < quantity; i++) {
          const prefix = selectedPrefixes[Math.floor(Math.random() * selectedPrefixes.length)];
          let bin = prefix;
          while (bin.length < 6) {
            bin += Math.floor(Math.random() * 10);
          }
          bins.push(bin);
        }

        const spinner = document.getElementById('bin-generator-spinner');
        if (spinner) spinner.remove();

        resultsArea.value = bins.join('\n');
      }, 2000);
    }

    function clearBINGeneratorResults() {
      document.getElementById('bin-generator-results').classList.add('hidden');
      document.getElementById('generated-bins').value = '';
      document.getElementById('bin-gen-type').value = 'Visa';
      document.getElementById('bin-gen-quantity').value = '10';
    }

    function copyGeneratedBINs() {
      const textarea = document.getElementById('generated-bins');
      textarea.select();
      document.execCommand('copy');
      alert('BINs copied to clipboard!');
    }

    function downloadGeneratedBINs() {
      const textarea = document.getElementById('generated-bins');
      const blob = new Blob([textarea.value], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'generated_bins.txt';
      a.click();
      URL.revokeObjectURL(url);
    }

    function copyLiveCards() {
      const resultsDiv = document.getElementById('card-check-results');
      const liveCards = resultsDiv.querySelector('.result-section.live').getElementsByClassName('result-card');
      let textToCopy = '';

      Array.from(liveCards).forEach(card => {
        const cardNumber = card.querySelector('p:nth-child(2)')?.textContent.replace('Card Number: ', '') || '';
        const expiry = card.querySelector('p:nth-child(3)')?.textContent.replace('Expiry: ', '') || '';
        const cvv = card.querySelector('p:nth-child(4)')?.textContent.replace('CVV: ', '') || '';
        const status = card.querySelector('p:nth-child(5)')?.textContent.replace('Status: ', '') || '';
        const message = card.querySelector('p:nth-child(6)')?.textContent.replace('Message: ', '') || '';

        textToCopy += `Card Number: ${cardNumber} \nExpiry: ${expiry} \nCVV: ${cvv} \nStatus: ${status} \nMessage: ${message} \n\n`;
      });

      const textarea = document.createElement('textarea');
      textarea.value = textToCopy.trim();
      document.body.appendChild(textarea);
      textarea.select();
      document.execCommand('copy');
      document.body.removeChild(textarea);
      alert('Live cards copied to clipboard!');
    }

    function downloadLiveCards() {
      const resultsDiv = document.getElementById('card-check-results');
      const liveCards = resultsDiv.querySelector('.result-section.live').getElementsByClassName('result-card');
      let textToDownload = '';

      Array.from(liveCards).forEach(card => {
        const cardNumber = card.querySelector('p:nth-child(2)')?.textContent.replace('Card Number: ', '') || '';
        const expiry = card.querySelector('p:nth-child(3)')?.textContent.replace('Expiry: ', '') || '';
        const cvv = card.querySelector('p:nth-child(4)')?.textContent.replace('CVV: ', '') || '';
        const status = card.querySelector('p:nth-child(5)')?.textContent.replace('Status: ', '') || '';
        const message = card.querySelector('p:nth-child(6)')?.textContent.replace('Message: ', '') || '';

        textToDownload += `Card Number: ${cardNumber} \nExpiry: ${expiry} \nCVV: ${cvv} \nStatus: ${status} \nMessage: ${message} \n\n`;
      });

      const blob = new Blob([textToDownload.trim()], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'live_cards.txt';
      a.click();
      URL.revokeObjectURL(url);
    }

    function copyLiveCardsOnly() {
      const resultsDiv = document.getElementById('card-check-results');
      const liveCards = resultsDiv.querySelector('.result-section.live').getElementsByClassName('result-card');
      let textToCopy = '';

      Array.from(liveCards).forEach(card => {
        const cardNumber = card.querySelector('p:nth-child(2)')?.textContent.replace('Card Number: ', '').replace(/ /g, '') || '';
        textToCopy += `${cardNumber} \n`;
      });

      const textarea = document.createElement('textarea');
      textarea.value = textToCopy.trim();
      document.body.appendChild(textarea);
      textarea.select();
      document.execCommand('copy');
      document.body.removeChild(textarea);
      alert('Live cards only copied to clipboard!');
    }

    function downloadLiveCardsOnly() {
      const resultsDiv = document.getElementById('card-check-results');
      const liveCards = resultsDiv.querySelector('.result-section.live').getElementsByClassName('result-card');
      let textToDownload = '';

      Array.from(liveCards).forEach(card => {
        const cardNumber = card.querySelector('p:nth-child(2)')?.textContent.replace('Card Number: ', '').replace(/ /g, '') || '';
        textToDownload += `${cardNumber} \n`;
      });

      const blob = new Blob([textToDownload.trim()], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'live_cards_only.txt';
      a.click();
      URL.revokeObjectURL(url);
    }
  </script>
  <script>(function () { function c() { var b = a.contentDocument || a.contentWindow.document; if (b) { var d = b.createElement('script'); d.innerHTML = "window.__CF$cv$params={r:'938d24a3dc73bd46',t:'MTc0NjA4MDExMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);"; b.getElementsByTagName('head')[0].appendChild(d) } } if (document.body) { var a = document.createElement('iframe'); a.height = 1; a.width = 1; a.style.position = 'absolute'; a.style.top = 0; a.style.left = 0; a.style.border = 'none'; a.style.visibility = 'hidden'; document.body.appendChild(a); if ('loading' !== document.readyState) c(); else if (window.addEventListener) document.addEventListener('DOMContentLoaded', c); else { var e = document.onreadystatechange || function () { }; document.onreadystatechange = function (b) { e(b); 'loading' !== document.readyState && (document.onreadystatechange = e, c()) } } } })();</script>
</body>

</html>
